webpackJsonp([0],{"4eN0":function(t,i,e){"use strict";var s={props:{item:Object}},a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.item?e("div",{staticClass:"goodsCol-item"},[e("a",{attrs:{href:"http://m.25boy.cn/?m=category&a=product&id="+t.item.product_id}},[e("img",{staticClass:"goodsCol-image",attrs:{src:t.item.url+"!w200","lazy-load":"",mode:"widthFix"}})]),t._v(" "),e("div",{staticClass:"goodsCol-text"},[e("div",{staticClass:"goodsCol-brand van-ellipsis"},[t._v(t._s(t.item.brand_name))]),t._v(" "),e("div",{staticClass:"goodsCol-name van-ellipsis"},[t._v(t._s(t.item.product_name))]),t._v(" "),e("div",{staticClass:"goodsCol-price van-ellipsis"},[t._v("¥"+t._s(t.item.price))])])]):t._e()},staticRenderFns:[]};var o=e("C7Lr")(s,a,!1,function(t){e("TNsf")},null,null);i.a=o.exports},AnpE:function(t,i){},IHPB:function(t,i,e){"use strict";i.__esModule=!0;var s,a=e("kfHR"),o=(s=a)&&s.__esModule?s:{default:s};i.default=function(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return(0,o.default)(t)}},TNsf:function(t,i){},VWSL:function(t,i){},dspF:function(t,i){t.exports={code:0,state:"SUCCESS",msg:"",data:{brands:[{id:1,name:"HARDLY EVER’S",image:"1441177048.jpg",sort:0},{id:2,name:"HE75 DENIM",image:"1441177065.jpg",sort:0},{id:3,name:"银鳞堂",image:"1441177188.jpg",sort:0},{id:4,name:"HEA",image:"1441177215.jpg",sort:0},{id:5,name:"高桥石尚",image:"1453432165.png",sort:0},{id:6,name:"EVISU",image:"1453432176.png",sort:0},{id:7,name:"響",image:"144117721.jpg",sort:0}],categorys:{20:{info:{id:20,name:"男装上装",pid:0,image:null,is_shelf:1,sort:0},items:{23:{id:23,name:"T恤",pid:20,image:"http://img.25miao.com/1048/1480234882.png",is_shelf:1,sort:0},24:{id:24,name:"衬衫",pid:20,image:"http://img.25miao.com/1048/1480234883.png",is_shelf:1,sort:3},25:{id:25,name:"卫衣",pid:20,image:"http://img.25miao.com/1048/1480234917.png",is_shelf:1,sort:4},26:{id:26,name:"毛衣",pid:20,image:"http://img.25miao.com/1048/1480234891.png",is_shelf:1,sort:5},27:{id:27,name:"风衣",pid:20,image:"http://img.25miao.com/1048/1480234887.png",is_shelf:1,sort:6},31:{id:31,name:"棉衣",pid:20,image:"http://img.25miao.com/1048/1480234894.png",is_shelf:1,sort:8},32:{id:32,name:"夹克",pid:20,image:"http://img.25miao.com/1048/1480234888.png",is_shelf:1,sort:7},51:{id:51,name:"马甲",pid:20,image:"http://img.25miao.com/1048/1480234890.png",is_shelf:1,sort:9},54:{id:54,name:"Polo",pid:20,image:"http://img.25miao.com/1048/1480234881.png",is_shelf:1,sort:1},57:{id:57,name:"运动潮TEE",pid:20,image:null,is_shelf:1,sort:10},61:{id:61,name:"长袖T恤",pid:20,image:"http://img.25miao.com/1048/1480234928.png",is_shelf:1,sort:2},68:{id:68,name:"外套",pid:20,image:"http://img.25miao.com/1048/1480234915.png",is_shelf:1,sort:11}}},22:{items:{33:{id:33,name:"休闲裤",pid:22,image:"http://img.25miao.com/1048/1480234925.png",is_shelf:1,sort:0},34:{id:34,name:"牛仔裤",pid:22,image:"http://img.25miao.com/1048/1480234909.png",is_shelf:1,sort:2},35:{id:35,name:"短裤",pid:22,image:"http://img.25miao.com/1048/1480234884.png",is_shelf:1,sort:3},37:{id:37,name:"卫衣裤",pid:22,image:null,is_shelf:1,sort:4},38:{id:38,name:"打底裤",pid:22,image:null,is_shelf:1,sort:5},53:{id:53,name:"毛呢裤",pid:22,image:null,is_shelf:1,sort:6},55:{id:55,name:"棉麻裤",pid:22,image:"http://img.25miao.com/1048/1480234893.png",is_shelf:1,sort:7},56:{id:56,name:"斜纹裤",pid:22,image:"http://img.25miao.com/1048/1480234921.png",is_shelf:1,sort:1}},info:{id:22,name:"男装下装",pid:0,image:null,is_shelf:1,sort:1}},40:{items:{41:{id:41,name:"皮带",pid:40,image:"http://img.25miao.com/1048/1480234910.png",is_shelf:1,sort:4},42:{id:42,name:"眼镜",pid:40,image:"http://img.25miao.com/1048/1480234926.png",is_shelf:1,sort:3},43:{id:43,name:"首饰",pid:40,image:null,is_shelf:1,sort:12},45:{id:45,name:"帽子",pid:40,image:"http://img.25miao.com/1048/1480234892.png",is_shelf:1,sort:0},46:{id:46,name:"钱包",pid:40,image:null,is_shelf:1,sort:14},47:{id:47,name:"箱包",pid:40,image:"http://img.25miao.com/1048/1480234919.png",is_shelf:1,sort:2},48:{id:48,name:"鞋子",pid:40,image:"http://img.25miao.com/1048/1480234922.png",is_shelf:1,sort:13},52:{id:52,name:"围巾",pid:40,image:"http://img.25miao.com/1048/1480234916.png",is_shelf:1,sort:5},58:{id:58,name:"内裤",pid:40,image:"http://img.25miao.com/1048/1480234896.png",is_shelf:1,sort:6},62:{id:62,name:"钥匙扣",pid:40,image:"http://img.25miao.com/1048/1480234927.png",is_shelf:1,sort:7},63:{id:63,name:"耳钉",pid:40,image:"http://img.25miao.com/1048/1480234886.png",is_shelf:1,sort:11},64:{id:64,name:"手链 手镯",pid:40,image:"http://img.25miao.com/1048/1480234911.png",is_shelf:1,sort:1},65:{id:65,name:"戒指",pid:40,image:"http://img.25miao.com/1048/1480234889.png",is_shelf:1,sort:8},66:{id:66,name:"项链 吊坠",pid:40,image:"http://img.25miao.com/1048/1480234920.png",is_shelf:1,sort:9},67:{id:67,name:"胸针",pid:40,image:"http://img.25miao.com/1048/1480234923.png",is_shelf:1,sort:18},69:{id:69,name:"手机套",pid:40,image:"http://img.25miao.com/1048/1480234912.png",is_shelf:1,sort:17},70:{id:70,name:"手套",pid:40,image:"http://img.25miao.com/1048/1480234914.png",is_shelf:1,sort:16},71:{id:71,name:"雨伞",pid:40,image:null,is_shelf:1,sort:15}},info:{id:40,name:"配饰",pid:0,image:null,is_shelf:1,sort:2}},76:{items:{77:{id:77,name:"T恤",pid:76,image:null,is_shelf:1,sort:2},80:{id:80,name:"休闲裤",pid:76,image:null,is_shelf:1,sort:0},82:{id:82,name:"卫衣",pid:76,image:null,is_shelf:1,sort:1}},info:{id:76,name:"童装",pid:0,image:null,is_shelf:1,sort:4}},78:{info:{id:78,name:"实体店物料",pid:0,image:null,is_shelf:1,sort:6}},79:{info:{id:79,name:"物料半成品",pid:0,image:null,is_shelf:1,sort:5}}}}}},kfHR:function(t,i,e){t.exports={default:e("qQfv"),__esModule:!0}},kksE:function(t,i,e){"use strict";var s=e("lIiZ"),a=e("go9Q");t.exports=function(t,i,e){i in t?s.f(t,i,a(0,e)):t[i]=e}},qQfv:function(t,i,e){e("IsPG"),e("yrDz"),t.exports=e("AKd3").Array.from},"vA2+":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("lC5x"),a=e.n(s),o=e("rVsN"),n=e.n(o),r=e("J0Oq"),l=e.n(r),c=e("IHPB"),m=e.n(c),d=e("qTHA"),g=e("oFuF"),p=e("0xDb"),h=e("4eN0"),f=e("dspF"),u={props:{search:String,placeholder:String,filter:Object,show:Boolean,dot:{type:Boolean,default:!1}},data:function(){return{activeCategory:"",filterData:{},min_price:"",max_price:""}},computed:{brands:function(){return this.filterData.brands||[]},categorys:function(){var t=this.filterData.categorys||{};return t}},watch:{min_price:function(t){this.$emit("change",{type:"min_price",value:t})},max_price:function(t){this.$emit("change",{type:"max_price",value:t})}},methods:{getBrandsAndCategorys:function(){var t=f;0===t.code?this.initFilterData(t.data):this.$tip.toast(t.msg)},initFilterData:function(t){for(var i in t.brands)t.brands[i].active=!1;for(var e in t.categorys)for(var s in t.categorys[e].items)t.categorys[e].items[s].active=!1;this.filterData=t},setSearchValue:function(t){this.search=t.mp.detail},onSearch:function(t){this.$emit("search",this.search)},toggleFilter:function(t){console.log("toggleFilter",t);var i=this;setTimeout(function(){i.$emit("toggle",t)},250)},selectFilter:function(t,i,e){var s=void 0;"categorys"===t?((s=this.categorys[i].items[e]).active=!s.active,this.categorys[i].items[e]=s):((s=this.brands[i]).active=!s.active,this.brands[i]=s);var a=this.filter[t];g.a.inArray(s.id,a)?g.a.delArray(s.id,a):a.push(s.id);var o={type:t,value:a};this.$emit("change",o)},toggleCollapse:function(t,i){this.activeCategory=this.activeCategory===i?"":i}},mounted:function(){this.getBrandsAndCategorys()}},v={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"goods-filter"},[e("div",{staticClass:"page-topbar"},[e("div",{staticClass:"search"},[e("div",{staticClass:"search-box"},[e("van-search",{attrs:{name:"search",placeholder:t.placeholder,"use-action-slot":""},on:{search:t.onSearch,change:t.setSearchValue},model:{value:t.search,callback:function(i){t.search=i},expression:"search"}})],1),t._v(" "),e("div",{staticClass:"search-filter",on:{click:t.toggleFilter}},[e("div",{staticClass:"J-badge"},[t.dot?e("div",{staticClass:"J-badge-dot"}):t._e(),t._v(" "),e("div",{staticClass:"iconfont icon-filter"}),t._v(" "),e("div",{staticClass:"search-filter-text"},[t._v("筛选")])])])])]),t._v(" "),e("van-popup",{attrs:{position:"right","custom-class":"filter",show:t.show},on:{close:t.toggleFilter}},[e("van-nav-bar",{attrs:{"left-text":"筛选","right-text":"完成",fixed:"","left-arrow":""},on:{clickLeft:t.toggleFilter,clickRight:function(i){t.toggleFilter("right")}}}),t._v(" "),e("scroll-view",{staticClass:"filter-container",attrs:{"scroll-y":""}},[e("van-panel",{attrs:{title:"价格范围"}},[e("van-row",{attrs:{"custom-class":"prices"}},[e("van-col",{attrs:{span:"10"}},[e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.min_price,expression:"min_price",modifiers:{lazy:!0}}],staticClass:"prices-input",attrs:{type:"number",placeholder:"最低"},domProps:{value:t.min_price},on:{change:function(i){t.min_price=i.target.value}}})]),t._v(" "),e("van-col",{attrs:{span:"4"}},[e("div",{staticClass:"prices-slot"},[t._v("-")])]),t._v(" "),e("van-col",{attrs:{span:"10"}},[e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.max_price,expression:"max_price",modifiers:{lazy:!0}}],staticClass:"prices-input",attrs:{type:"number",placeholder:"最高"},domProps:{value:t.max_price},on:{change:function(i){t.max_price=i.target.value}}})])],1)],1),t._v(" "),e("van-panel",{directives:[{name:"show",rawName:"v-show",value:t.brands.length,expression:"brands.length"}],attrs:{title:"品牌",status:"已选 "+t.filter.brands.length,"custom-class":"mt--1"}},[e("div",{staticClass:"brand"},t._l(t.brands,function(i,s){return e("div",{key:s,staticClass:"brand-col"},[e("div",{class:["van-ellipsis","brand-name",{"brand-name__selected":i.active}],on:{click:function(i){t.selectFilter("brands",s)}}},[t._v(t._s(i.name))])])}))]),t._v(" "),e("van-panel",{directives:[{name:"show",rawName:"v-show",value:t.categorys,expression:"categorys"}],attrs:{title:"商品分类",status:"已选 "+t.filter.categorys.length,"custom-class":"mt--1"}},t._l(t.categorys,function(i,s){return e("div",{key:s,staticClass:"categorys-item"},[e("div",{staticClass:"categorys-item-title",on:{click:function(e){t.toggleCollapse("categorys",i.info.id)}}},[e("i",{class:["iconfont","icon-arrow",t.activeCategory==i.info.id?"icon-arrow-down":"icon-arrow-right"]}),t._v("\n            "+t._s(i.info.name)+"\n          ")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeCategory==i.info.id,expression:"activeCategory==item.info.id"}]},t._l(i.items,function(i,a){return e("div",{key:a,class:["van-ellipsis","categorys-item-list",{"categorys-item__selected":i.active}],on:{click:function(i){t.selectFilter("categorys",s,a)}}},[t._v("\n              "+t._s(i.name)+"\n            ")])}))])}))],1)],1)],1)},staticRenderFns:[]};var _=e("C7Lr")(u,v,!1,function(t){e("AnpE")},null,null).exports,y={components:{GoodsItem:h.a,GoodsFilter:_},data:function(){return{items:[],reload:!1,page:0,pages:{},show_filter:!1,search:"",filter:{min_price:"",max_price:"",brands:[],categorys:[]}}},computed:{has_filter:function(){return!!this.filter.min_price||(!!this.filter.max_price||(this.filter.brands.length>0||this.filter.categorys.length>0))}},methods:{clearParams:function(){this.items=[],this.reload=!1,this.page=0,this.pages={}},getProductList:function(){var t=this,i=this.items,e=this.page;if(!0===t.reload)return!1;e+=1,t.reload=!0,t.$toast({type:"loading",duration:0,message:"加载中"});var s={pageNo:e,search:t.search,min_price:t.filter.min_price,max_price:t.filter.max_price,brands:t.filter.brands,categorys:t.filter.categorys};t.$http.get("product/productList",s).then(function(s){t.$toast.clear(),0===s.code&&s.rs.data.length>0?(t.items=[].concat(m()(i),m()(s.rs.data)),t.pages=s.rs.pageList):t.$toast(s.msg),t.page=e,t.reload=!1})},toggleFilter:function(t){"right"===t&&(this.clearParams(),this.getProductList()),this.show_filter=!this.show_filter},setFilter:function(t){var i=t.type,e=t.value;this.filter[i]=e},onSearch:function(t){console.log(t),this.search=t,this.clearParams(),this.getProductList()}},mounted:function(){"h5"===p.a?(this.$options.onPullDownRefresh.call(this),this.$options.onReachBottom.call(this)):d.a.startPullDownRefresh()},onPullDownRefresh:function(){var t=this;return l()(a.a.mark(function i(){return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.clearParams(),i.next=3,n.a.all([t.getProductList()]);case 3:d.a.stopPullDownRefresh();case 4:case"end":return i.stop()}},i,t)}))()},onReachBottom:function(){var t=this;g.a.pages(t.pages,function(i){i&&t.getProductList()})}},C={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[e("goods-filter",{attrs:{filter:t.filter,show:t.show_filter,dot:t.has_filter,placeholder:"搜索商品名称、商品编码"},on:{toggle:t.toggleFilter,change:t.setFilter,search:t.onSearch}}),t._v(" "),e("div",{staticClass:"goods"},[e("div",{staticClass:"goodsCol pl--2 pr--2 pt--1"},t._l(t.items,function(t,i){return e("goods-item",{key:i,attrs:{item:t}})}))]),t._v(" "),e("van-toast",{attrs:{id:"van-toast"}})],1)},staticRenderFns:[]};var w=e("C7Lr")(y,C,!1,function(t){e("VWSL")},null,null);i.default=w.exports},yrDz:function(t,i,e){"use strict";var s=e("WwGG"),a=e("FITv"),o=e("OXaN"),n=e("kDTw"),r=e("V2W7"),l=e("CFGK"),c=e("kksE"),m=e("YW8S");a(a.S+a.F*!e("75+0")(function(t){Array.from(t)}),"Array",{from:function(t){var i,e,a,d,g=o(t),p="function"==typeof this?this:Array,h=arguments.length,f=h>1?arguments[1]:void 0,u=void 0!==f,v=0,_=m(g);if(u&&(f=s(f,h>2?arguments[2]:void 0,2)),void 0==_||p==Array&&r(_))for(e=new p(i=l(g.length));i>v;v++)c(e,v,u?f(g[v],v):g[v]);else for(d=_.call(g),e=new p;!(a=d.next()).done;v++)c(e,v,u?n(d,f,[a.value,v],!0):a.value);return e.length=v,e}})}});